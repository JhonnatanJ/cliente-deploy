<div *ngIf="libros != null" class="d-flex flex-row flex-wrap mb-3">
  <div
    *ngFor="let libro of libros.content"
    class="d-flex container-fluid col justify-content-center p-3 col-12 col-sm-6 col-md-4 col-lg-3"
  >
    <div class="card position-relative">
      <!-- <div class="position-absolute estado" *ngIf="libro.stock>0;else agotado">
        <p>Disponible</p>
      </div> -->
        <div class="position-absolute estado" *ngIf="libro.stock<1">
          <p>Agotado</p>
        </div>
      
      <a href="/libro/{{ libro.isbn }}" class="text-center">
        <img
          src="{{ libro.imagen.imagenUrl }}"
          alt="libro"
          class="card-img-top imagen_libro"
        />
      </a>
      <div
        class="card-body d-flex flex-column container-fluid p-1 justify-content-evenly align-items-between"
      >
        <div class="row">
         <h4 class="card-title">{{ libro.titulo }}</h4>
        </div>
        <div class="row row-cols-2 p-3">
          <div class="col">
            <p>{{ libro.autores[0].nombre }}</p>
          </div>
          <div class="col align-self-center">
            <p>
              <b>${{ libro.precioUnitario.toFixed(2) }}</b>
            </p>
          </div>
        </div>
        <div class="row row-cols-2 p-2">
          <div class="col">
            <p>{{ libro.editoriales[0].nombre }}</p>
          </div>
          <div class="col">
            <button class="btn" (click)="agregarCompra(libro.isbn)" *ngIf="libro.stock>0;else bloqueado">
              <img src="/../assets/icon_empty.png" alt="comprar" />
            </button>

            <ng-template #bloqueado>
              <button class="btn" disabled>
                <img src="/../assets/icon_empty.png" alt="comprar" />
              </button>
            </ng-template>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
